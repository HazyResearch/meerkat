
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Concepts &#8212; ðŸ”® v0.2.6a12</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../../_static/meerkat_logo.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="User Guide" href="user-guide.html" />
    <link rel="prev" title="Getting Started with Reactive Functions" href="getting-started.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"><div class='topnav'></div></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/meerkat_banner_padded.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">ðŸ”® v0.2.6a12</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../index.html">
                    Welcome to Meerkat ðŸ”®
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../start/install.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../start/quickstart-interactive.html">
   Quickstart: Interactive Apps
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../start/tutorials/index.html">
   Tutorials
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../start/tutorials/tutorial-0.html">
     Tutorial 0: Data Frames for Unstructured Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../start/tutorials/tutorial-2.html">
     Tutorial 2: Reactive Image Viewer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../start/tutorials/tutorial-3.html">
     Tutorial 3: Query a Large Language Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../start/tutorials/tutorial-4.html">
     Tutorial 4: Search Engine over a Dataset
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  User Guide
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../dataframe/intro.html">
   Data Frames
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../dataframe/selection.html">
     Data Selection
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../dataframe/columns/overview.html">
     Column Types
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../dataframe/columns/scalar.html">
       Scalar Columns
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../dataframe/columns/tensor.html">
       Tensor Columns
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../dataframe/columns/deferred.html">
       Deferred Columns
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../dataframe/columns/object.html">
       Object Columns
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../dataframe/ops/overview.html">
     Operations
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../dataframe/ops/mapping.html">
       Mapping:
       <code class="docutils literal notranslate">
        <span class="pre">
         map
        </span>
       </code>
       and
       <code class="docutils literal notranslate">
        <span class="pre">
         defer
        </span>
       </code>
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../dataframe/ops/combining.html">
       Combining:
       <code class="docutils literal notranslate">
        <span class="pre">
         concat
        </span>
       </code>
       and
       <code class="docutils literal notranslate">
        <span class="pre">
         merge
        </span>
       </code>
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../dataframe/ops/grouping.html">
       Grouping:
       <code class="docutils literal notranslate">
        <span class="pre">
         groupby
        </span>
       </code>
       and
       <code class="docutils literal notranslate">
        <span class="pre">
         clusterby
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dataframe/io.html">
     I/O
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../dataframe/advanced/overview.html">
     Advanced
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../dataframe/advanced/copying.html">
       Copy vs. View Behavior
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../dataframe/advanced/blocks.html">
       Blocks and the BlockManager
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Reactive Functions
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="getting-started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Concepts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="user-guide.html">
     User Guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="inbuilts.html">
     Reactive Functions in Meerkat
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../store/getting-started.html">
   Stores
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../components/index.html">
   Components
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/getting-started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/builtins.html">
     Components in Meerkat
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/custom-components.html">
     Custom Components
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../endpoints/index.html">
   Endpoints
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../endpoints/getting-started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../endpoints/reactive-vs-endpoints.html">
     Endpoints vs. Reactive Functions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../interactive/introduction.html">
   Interactive
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../interactive/concepts/core-concepts-nutshell.html">
     Core Concepts in a Nutshell
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../interactive/concepts/store.html">
       Stores
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../interactive/concepts/dataframe.html">
       DataFrame
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../interactive/concepts/reactive.html">
       Reactivity in Meerkat
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../interactive/concepts/component.html">
       Components
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../interactive/environments/running-interfaces.html">
     Running Meerkat Interfaces
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../interactive/components/component.html">
     Component
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../interactive/components/display.html">
       Displaying dataframes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../interactive/components/match.html">
       <code class="xref py py-class docutils literal notranslate">
        <span class="pre">
         mk.gui.Match
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../interactive/examples/examples.html">
     Interactive Examples
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../interactive/examples/image_search.html">
       Building image search
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../formatters/getting-started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../cheat-sheet.html">
   Cheat Sheet
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Advanced
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../magic/getting-started.html">
   Magic
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../magic/limitations.html">
     Limitations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../start/configure.html">
   Configuration
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  API Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../apidocs/index.html">
   API Reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../apidocs/dataframe.html">
     DataFrame
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../apidocs/interactive.html">
     Interactive
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/hazyresearch/meerkat/"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/hazyresearch/meerkat//issues/new?title=Issue%20on%20page%20%2Fguide/reactive/concepts.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/hazyresearch/meerkat/edit/master/doc/source/guide/reactive/concepts.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/guide/reactive/concepts.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recap-stores">
   Recap: Stores
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#demystifying-reactive-functions">
   Demystifying Reactive Functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#markables-and-reactivity">
   Markables and Reactivity
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#understanding-the-marked-state">
     Understanding the
     <code class="docutils literal notranslate">
      <span class="pre">
       marked
      </span>
     </code>
     state
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#unmarking-inputs-to-reactive-functions">
     Unmarking inputs to reactive functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#non-markable-inputs-to-reactive-functions">
     Non-markable inputs to reactive functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aside-pass-by-reference-vs-pass-by-value">
     [Aside] Pass by Reference vs Pass by Value
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reactivity-as-a-graph">
   Reactivity as a Graph
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Concepts</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recap-stores">
   Recap: Stores
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#demystifying-reactive-functions">
   Demystifying Reactive Functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#markables-and-reactivity">
   Markables and Reactivity
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#understanding-the-marked-state">
     Understanding the
     <code class="docutils literal notranslate">
      <span class="pre">
       marked
      </span>
     </code>
     state
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#unmarking-inputs-to-reactive-functions">
     Unmarking inputs to reactive functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#non-markable-inputs-to-reactive-functions">
     Non-markable inputs to reactive functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aside-pass-by-reference-vs-pass-by-value">
     [Aside] Pass by Reference vs Pass by Value
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reactivity-as-a-graph">
   Reactivity as a Graph
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="concepts">
<span id="reactivity-concepts"></span><h1>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">Â¶</a></h1>
<p>In this guide, weâ€™ll cover high level concepts related to reactivity.
If you havenâ€™t already, please read <span class="xref myst"></span> <a class="reference internal" href="getting-started.html#reactivity-getting-started"><span class="std std-ref">Getting Started</span></a>, which will provide an introduction to reactivity.</p>
<section id="recap-stores">
<span id="reactivity-concepts-stores"></span><h2>Recap: Stores<a class="headerlink" href="#recap-stores" title="Permalink to this headline">Â¶</a></h2>
<p>Recall, a core principle of reactivity is that Meerkat only tracks <code class="docutils literal notranslate"><span class="pre">marked</span></code> inputs into functions.
If an input is not marked, Meerkat will not track it and will not re-run the function if it changes.</p>
<p>The defacto way to mark an object is to wrap it in a <a class="reference internal" href="../../apidocs/dataframe.html#meerkat.Store" title="meerkat.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">Store</span></code></a>.
In this section, we will briefly cover the importance of <code class="docutils literal notranslate"><span class="pre">Store</span></code>s.
You can read the full guide on <code class="docutils literal notranslate"><span class="pre">Store</span></code>s at [XXXXXXXXXXXX].</p>
<p>A <code class="docutils literal notranslate"><span class="pre">Store</span></code> is a special object provided by Meerkat that can be used to wrap arbitrary Python objects, such primitive types (e.g. <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>), third-party objects (e.g. <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, <code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code>), and even your custom objects.
A major reason to use <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects is that they make it possible for Meerkat to track changes to Python objects.</p>
<p>Letâ€™s look at an example to understand why they are so important to reactive functions.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@mk</span><span class="o">.</span><span class="n">reactive</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>Now, letâ€™s try something that might feel natural. Create two <code class="docutils literal notranslate"><span class="pre">int</span></code> objects, call <code class="docutils literal notranslate"><span class="pre">add</span></code> with them, and then change one of them.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># z is 3</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">4</span> <span class="c1"># z is still 3</span>
</pre></div>
</div>
<p>You might think for a second that <code class="docutils literal notranslate"><span class="pre">z</span></code> should be updated to <code class="docutils literal notranslate"><span class="pre">6</span></code> because <code class="docutils literal notranslate"><span class="pre">x</span></code> changed and <code class="docutils literal notranslate"><span class="pre">add</span></code> is a reactive function. <strong>This is not the case.</strong></p>
<p>This is because <code class="docutils literal notranslate"><span class="pre">x</span></code> is just an <code class="docutils literal notranslate"><span class="pre">int</span></code>. By changing <code class="docutils literal notranslate"><span class="pre">x</span></code>, we arenâ€™t changing the object that <code class="docutils literal notranslate"><span class="pre">x</span></code> points to (i.e. the <code class="docutils literal notranslate"><span class="pre">int</span></code> <code class="docutils literal notranslate"><span class="pre">1</span></code>). Instead, we are just changing the variable <code class="docutils literal notranslate"><span class="pre">x</span></code> to point to a different object.</p>
<p><em>What we need here is to update the object that <code class="docutils literal notranslate"><span class="pre">x</span></code> points to.</em> Itâ€™s impossible to do this with a regular <code class="docutils literal notranslate"><span class="pre">int</span></code>. We can do this with a <code class="docutils literal notranslate"><span class="pre">Store</span></code> instead.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># z is Store(3), type(z) is Store</span>

<span class="n">x</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">triggers</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="c1"># z is now Store(6), type(z) is Store</span>
</pre></div>
</div>
<p>By calling <code class="docutils literal notranslate"><span class="pre">set()</span></code> on <code class="docutils literal notranslate"><span class="pre">x</span></code>, we are changing the object that <code class="docutils literal notranslate"><span class="pre">x</span></code> points to. This is what allows <code class="docutils literal notranslate"><span class="pre">z</span></code> to be updated.
Ignore the <code class="docutils literal notranslate"><span class="pre">triggers=True</span></code> argument for now, we discuss it in more detail in <a class="reference internal" href="#reactivity-concepts-reactive-functions"><span class="std std-ref">the section below</span></a>.)</p>
<p><code class="docutils literal notranslate"><span class="pre">Store</span></code> is a transparent wrapper around the object it wraps, so you can use that object as if the <code class="docutils literal notranslate"><span class="pre">Store</span></code> wasnâ€™t there.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="c1"># z is Store(3), type(z) is Store</span>

<span class="n">message</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">message</span> <span class="o">+</span> <span class="s2">&quot; world&quot;</span> 
<span class="c1"># message is Store(&quot;hello world&quot;), type(message) is Store</span>
</pre></div>
</div>
<p>A very detailed breakdown of how <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave is provided at XXXXXXX. We highly recommend reading that guide.</p>
<p>The takeaways are:</p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">Store</span></code> can wrap arbitrary Python objects.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">Store</span></code> will behave like the object it wraps.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">Store</span></code> is necessary to track changes when passing an object to a reactive function.</p></li>
</ul>
</section>
<section id="demystifying-reactive-functions">
<span id="reactivity-concepts-reactive-functions"></span><h2>Demystifying Reactive Functions<a class="headerlink" href="#demystifying-reactive-functions" title="Permalink to this headline">Â¶</a></h2>
<p>Now that we understand the importance of <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects to reactivity, letâ€™s look at how reactive functions work.
Consider the same function <code class="docutils literal notranslate"><span class="pre">add</span></code>.</p>
<p><strong>What happens when you wrap <code class="docutils literal notranslate"><span class="pre">add</span></code> with <code class="docutils literal notranslate"><span class="pre">mk.reactive()</span></code>?</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@mk</span><span class="o">.</span><span class="n">reactive</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>Meerkat tracks the function <code class="docutils literal notranslate"><span class="pre">add</span></code> and re-runs it if any of the inputs to it (i.e. <code class="docutils literal notranslate"><span class="pre">a</span></code> or <code class="docutils literal notranslate"><span class="pre">b</span></code>) change.
Here, we are assuming both <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are <a class="reference internal" href="#reactivity-concepts-markables"><span class="std std-ref">marked</span></a>.
Internally, Meerkat includes <code class="docutils literal notranslate"><span class="pre">add</span></code> in a computation graph that tracks dependencies between reactive functions.</p>
<p><strong>What happens when you call <code class="docutils literal notranslate"><span class="pre">add</span></code>?</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># z is Store(3), type(z) is Store</span>
</pre></div>
</div>
<p>Meerkat does three things:</p>
<ol class="arabic simple">
<li><p><strong>Unwrap input stores:</strong> Any inputs to <code class="docutils literal notranslate"><span class="pre">add</span></code> that are <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects before passing them into the body of <code class="docutils literal notranslate"><span class="pre">add</span></code>.</p></li>
<li><p><strong>Turn off reactivity:</strong> Meerkat turns off reactivity only for the duration of the function call.</p></li>
<li><p><strong>Wrap and mark the outputs</strong>: The output of <code class="docutils literal notranslate"><span class="pre">add</span></code> is wrapped in a <code class="docutils literal notranslate"><span class="pre">Store</span></code> object and returned. If the output is a Markable object (e.g. <code class="docutils literal notranslate"><span class="pre">mk.DataFrame</span> <span class="pre">&lt;meerkat.DataFrame&gt;</span></code>), the object is marked. This lets you use the output of <code class="docutils literal notranslate"><span class="pre">add</span></code> as input to other reactive functions.</p></li>
<li><p><strong>Turn on reactivity:</strong> Meerkat turns reactivity back on once the function has returned.</p></li>
</ol>
<p>The main consequence of these steps is that <strong>any reactive function can be written as a regular Python function</strong>.
You donâ€™t have to worry about if the inputs are stores or if you have to manage reactivity manually.
This will allow you to convert any existing Python function into a reactive function simply by wrapping it in <code class="docutils literal notranslate"><span class="pre">mk.reactive()</span></code>.</p>
<p><strong>What happens when you change any of the inputs to <code class="docutils literal notranslate"><span class="pre">add</span></code>?</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># z is Store(3), type(z) is Store</span>

<span class="n">x</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">triggers</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># z is now Store(6), type(z) is Store</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">triggers=True</span></code> is an optional argument to <code class="docutils literal notranslate"><span class="pre">Store.set()</span></code> to trigger the reactive chain.
It should never be called explicitly in the code, but can be helpful for debugging purposes.</p>
</div>
<p>What does Meerkat do when <code class="docutils literal notranslate"><span class="pre">x</span></code> is changed? Letâ€™s walk through the steps:</p>
<ul class="simple">
<li><p>Meerkat detects that <code class="docutils literal notranslate"><span class="pre">x</span></code> changed because <code class="docutils literal notranslate"><span class="pre">x</span></code> is a <code class="docutils literal notranslate"><span class="pre">Store</span></code>, and <code class="docutils literal notranslate"><span class="pre">.set()</span></code> was called on it.</p></li>
<li><p>Meerkat looks for all reactive functions that were called with <code class="docutils literal notranslate"><span class="pre">x</span></code> as an argument (i.e. <code class="docutils literal notranslate"><span class="pre">add</span></code>).</p></li>
<li><p>Meerkat then re-runs those functions (i.e. <code class="docutils literal notranslate"><span class="pre">add</span></code>) and any functions that depend on their outputs.</p></li>
<li><p>Finally, Meerkat updates the outputs of any reactive functions that it re-runs (i.e. <code class="docutils literal notranslate"><span class="pre">z</span></code>).</p></li>
</ul>
</section>
<section id="markables-and-reactivity">
<span id="reactivity-concepts-markables"></span><h2>Markables and Reactivity<a class="headerlink" href="#markables-and-reactivity" title="Permalink to this headline">Â¶</a></h2>
<p>Earlier in this section, we mentioned the importance of marking inputs to reactive functions.
Letâ€™s break down the principle behind marked objects and how unmarking them can actually be useful at times.</p>
<p>To recap, <a class="reference internal" href="../../apidocs/dataframe.html#meerkat.Store" title="meerkat.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">Store</span></code></a>, <a class="reference internal" href="../../apidocs/dataframe.html#meerkat.DataFrame" title="meerkat.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mk.DataFrame</span></code></a>, and <a class="reference internal" href="../../apidocs/dataframe.html#meerkat.DataFrame" title="meerkat.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects are all Markable objects.
In order for a reactive function to re-run when an input changes, the input must be marked.
We can toggle the mark on an object by calling <code class="docutils literal notranslate"><span class="pre">mark()</span></code> or <code class="docutils literal notranslate"><span class="pre">unmark()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Stores are marked by default.</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span><span class="o">.</span><span class="n">mark</span><span class="p">()</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">ScalarColumn</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">mark</span><span class="p">()</span>
</pre></div>
</div>
<section id="understanding-the-marked-state">
<h3>Understanding the <code class="docutils literal notranslate"><span class="pre">marked</span></code> state<a class="headerlink" href="#understanding-the-marked-state" title="Permalink to this headline">Â¶</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The marked state of an input controls whether or not the function will be re-run when the value of the input changes.</p>
</div>
<p>Marking an input indicates to a reactive function that changes to the input should trigger the function to re-run.
If an input is unmarked or unable to be marked, the function will not be triggered to re-run when the input changes.</p>
<p>Note that it is at the time the function is called, that an inputâ€™s marked state determines if that function will retrigger.</p>
<p><strong>What happens when we unmark an object after passing it to a reactive function?</strong></p>
<p>Nothing!
If the input was marked at the time the reactive function was run, the function will react to changes in that input, even if the input is subsequently unmarked.
The marked state is only read when the function is called.</p>
<p>Consider the case where we unmark <code class="docutils literal notranslate"><span class="pre">a</span></code> after passing it to <code class="docutils literal notranslate"><span class="pre">add</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@mk</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">reactive</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="c1"># c is Store(3), type(c) is Store</span>

<span class="n">a</span><span class="o">.</span><span class="n">unmark</span><span class="p">()</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="c1"># d only updates when b changes, because a was unmarked when passed to the function that returned d.</span>
<span class="c1"># However, c will still update when a changes. This is because a was marked when passed to the function that returned c.</span>
</pre></div>
</div>
</section>
<section id="unmarking-inputs-to-reactive-functions">
<h3>Unmarking inputs to reactive functions<a class="headerlink" href="#unmarking-inputs-to-reactive-functions" title="Permalink to this headline">Â¶</a></h3>
<p>It seems natural to only want to pass marked inputs to reactive functions.
This way we can be sure that the function will re-run when any of its input changes.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Unmarked inputs to reactive functions will not trigger the function to re-run.
However, if the function is re-run, the newest value of the unmarked input will be used.</p>
</div>
<p>However, in some cases, we may want to be selective about which inputs should trigger the function.
Perhaps, we only want to trigger the function when a certain input changes.</p>
<p>To achieve this, we can simply unmark the inputs that we donâ€™t want to trigger the function.
For example, say we do not want <code class="docutils literal notranslate"><span class="pre">add</span></code> to re-run when <code class="docutils literal notranslate"><span class="pre">a</span></code> changes, but we do want it to re-run when <code class="docutils literal notranslate"><span class="pre">b</span></code> changes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@mk</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">reactive</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">unmark</span><span class="p">()</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

<span class="n">a</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">triggers</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># c is still Store(3) because a was unmarked when passed to the function that returned c.</span>
<span class="c1"># Thus changes in a will not trigger the function to re-run.</span>
</pre></div>
</div>
</section>
<section id="non-markable-inputs-to-reactive-functions">
<h3>Non-markable inputs to reactive functions<a class="headerlink" href="#non-markable-inputs-to-reactive-functions" title="Permalink to this headline">Â¶</a></h3>
<p>We may not always pass markable objects to reactive functions.
For example, I may pass a list to a function.</p>
<p>If a object that is not markable is passed to a reactive function, the function will not re-run when the object changes.
However, if the function is ever retriggered (e.g. by changing another marked input into the function), the newest value of the unmarked input will be used.
<strong>This only works when the object is modified in-place</strong> - i.e. the input needs to be mutable.
To understand why this happens, see the discussion on <a class="reference internal" href="#reactive-concepts-pass-by-reference"><span class="std std-ref">pass-by-assignment</span></a>.</p>
<p>A great example of this is a <code class="docutils literal notranslate"><span class="pre">list</span></code>. Below, we define a function that takes a list and a value, and returns the sum of the list and the value. Note that a list, when it is not wrapped in a <code class="docutils literal notranslate"><span class="pre">Store</span></code>, is not a markable object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sum_list_with_value</span><span class="p">(</span><span class="n">my_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span> <span class="o">+</span> <span class="n">value</span>

<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">sum_list_with_value</span><span class="p">(</span><span class="n">my_list</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;out&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">out</span><span class="p">),</span> <span class="n">out</span><span class="p">)</span>
<span class="c1"># out is Store(10)</span>

<span class="n">my_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># my_list = [1, 2, 3, 4]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;out&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">out</span><span class="p">),</span> <span class="n">out</span><span class="p">)</span>
<span class="c1"># out is still Store(10) because the function was not re-run when my_list changed.</span>

<span class="n">x</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">triggers</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># The value of x changed with `triggers=True`, so the function was re-run.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;out&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">out</span><span class="p">),</span> <span class="n">out</span><span class="p">)</span>
<span class="c1"># out is now Store(15) - sum([1, 2, 3, 4]) + 5</span>
</pre></div>
</div>
</section>
<section id="aside-pass-by-reference-vs-pass-by-value">
<span id="reactive-concepts-pass-by-reference"></span><h3>[Aside] Pass by Reference vs Pass by Value<a class="headerlink" href="#aside-pass-by-reference-vs-pass-by-value" title="Permalink to this headline">Â¶</a></h3>
<p>Recall, Python passes arguments by assignment.
If you are not familiar with passing by assignment, we can very loosely boil it down to this:</p>
<ul class="simple">
<li><p>immutable objects (e.g. primitives - <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, etc.) are passed by value</p></li>
<li><p>mutable objects (e.g. <code class="docutils literal notranslate"><span class="pre">list</span></code>) are passed by reference</p></li>
</ul>
<p><em>NOTE</em>: This is not a perfect analogy, but it is sufficient for our purposes.</p>
<p>Reactive functions are just like regular Python functions in this way.
Immutable inputs into a reactive function can never change. If the reactive function is re-run, the input will be the same as it was the first time.
In contrast, mutable inputs can change. If the input was modified in-place and the reactive function is re-run, the input will be different than it was the first time.</p>
<p>This does not mean that if any mutable inputs are changed, the reactive function will re-run.
The mutable input must both be <code class="docutils literal notranslate"><span class="pre">marked</span></code> and be changed in a special way <code class="docutils literal notranslate"><span class="pre">.set()</span></code> to trigger
the reactive function to re-run. We will see why this is important in the next section.</p>
<p>Any markable object in Meerkat is a mutable object.
This means there are operations that can be performed on that object in-place.
For example, we can set the value of a <code class="docutils literal notranslate"><span class="pre">Store</span></code> using <code class="docutils literal notranslate"><span class="pre">.set()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>

<span class="n">a</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># modifies the store `a` in-place</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</pre></div>
</div>
</section>
</section>
<section id="reactivity-as-a-graph">
<h2>Reactivity as a Graph<a class="headerlink" href="#reactivity-as-a-graph" title="Permalink to this headline">Â¶</a></h2>
<p>We can think of reactivity as a graph of inputs, functions, and outputs.
In fact, Meerkat maintains a graph of reactive functions and their inputs and outputs to determine what functions should be re-run.</p>
<p><strong>What are the nodes?</strong></p>
<p>Reactive functions and their inputs and outputs are all nodes in the graph.</p>
<p>When a reactive function is called with inputs, a node is created for the function call and its inputs.
The node for the function call is referred to as an <code class="docutils literal notranslate"><span class="pre">Operation</span></code>.
The operation corresponds to this particular function call. If the function is called again, a new operation is created.</p>
<p><strong>What are edges in this graph?</strong>
Edges indicate what variables are inputs to a function, and what variables are outputs of a function.
These edges are directed - i.e. input -&gt; operation -&gt; output.</p>
<p>There are two kinds of edges in the graph:</p>
<ol class="arabic simple">
<li><p><strong>Trigger Edges</strong>: These edges indicate which variables should trigger an operation to re-run.</p></li>
<li><p><strong>Connector Edges</strong>: These edges simply indicate that variables are inputs/outputs (i.e. connected) to an operation. Connector edges between an input and an operation indicate that changes in the input will not trigger the operation to re-run.</p></li>
</ol>
<p>Trigger edges are used to describe relationships between inputs and the operation. In other words,
an input <em>triggers</em> an operation to re-run if the input points to the operation with a trigger edge.</p>
<p>This distinction is important because it allows us to be selective about which inputs should trigger a function to re-run.
For example, <code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">=</span> <span class="pre">add(a,b)</span></code> only re-runs when <code class="docutils literal notranslate"><span class="pre">b</span></code> changes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@mk</span><span class="o">.</span><span class="n">reactive</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">unmark</span><span class="p">()</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>The graph looks like this:</p>
<figure class="align-default">
<img alt="../../_images/add.png" src="../../_images/add.png" />
</figure>
<p>TODOS:</p>
<ul class="simple">
<li><p>What happens when reactive function doesnt have arguments</p></li>
<li><p>Using the same reactive function multiple times</p></li>
</ul>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="getting-started.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Getting Started with Reactive Functions</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="user-guide.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">User Guide</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Meerkat Team<br/>
  
      &copy; Copyright 2023 Meerkat.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>