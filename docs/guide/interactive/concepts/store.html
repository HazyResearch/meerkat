
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Stores &#8212; 🔮 v0.2.6a12</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../../../_static/meerkat_logo.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="DataFrame" href="dataframe.html" />
    <link rel="prev" title="Core Concepts in a Nutshell" href="core-concepts-nutshell.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"><div class='topnav'></div></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/meerkat_banner_padded.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">🔮 v0.2.6a12</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    Welcome to Meerkat 🔮
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../start/install.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../start/quickstart-interactive.html">
   Quickstart: Interactive Apps
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../start/tutorials/index.html">
   Tutorials
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../start/tutorials/tutorial-0.html">
     Tutorial 0: Data Frames for Unstructured Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../start/tutorials/tutorial-2.html">
     Tutorial 2: Reactive Image Viewer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../start/tutorials/tutorial-3.html">
     Tutorial 3: Query a Large Language Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../start/tutorials/tutorial-4.html">
     Tutorial 4: Search Engine over a Dataset
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  User Guide
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../dataframe/intro.html">
   Data Frames
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dataframe/selection.html">
     Data Selection
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../dataframe/columns/overview.html">
     Column Types
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../dataframe/columns/scalar.html">
       Scalar Columns
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../dataframe/columns/tensor.html">
       Tensor Columns
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../dataframe/columns/deferred.html">
       Deferred Columns
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../dataframe/columns/object.html">
       Object Columns
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../dataframe/ops/overview.html">
     Operations
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../dataframe/ops/mapping.html">
       Mapping:
       <code class="docutils literal notranslate">
        <span class="pre">
         map
        </span>
       </code>
       and
       <code class="docutils literal notranslate">
        <span class="pre">
         defer
        </span>
       </code>
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../dataframe/ops/combining.html">
       Combining:
       <code class="docutils literal notranslate">
        <span class="pre">
         concat
        </span>
       </code>
       and
       <code class="docutils literal notranslate">
        <span class="pre">
         merge
        </span>
       </code>
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../dataframe/ops/grouping.html">
       Grouping:
       <code class="docutils literal notranslate">
        <span class="pre">
         groupby
        </span>
       </code>
       and
       <code class="docutils literal notranslate">
        <span class="pre">
         clusterby
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../dataframe/io.html">
     I/O
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../dataframe/advanced/overview.html">
     Advanced
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../dataframe/advanced/copying.html">
       Copy vs. View Behavior
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../dataframe/advanced/blocks.html">
       Blocks and the BlockManager
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../reactive/index.html">
   Reactive Functions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../reactive/getting-started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../reactive/concepts.html">
     Concepts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../reactive/user-guide.html">
     User Guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../reactive/inbuilts.html">
     Reactive Functions in Meerkat
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../store/getting-started.html">
   Stores
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../components/index.html">
   Components
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../components/getting-started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../components/builtins.html">
     Components in Meerkat
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../components/custom-components.html">
     Custom Components
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../endpoints/index.html">
   Endpoints
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../endpoints/getting-started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../endpoints/reactive-vs-endpoints.html">
     Endpoints vs. Reactive Functions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../introduction.html">
   Interactive
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="core-concepts-nutshell.html">
     Core Concepts in a Nutshell
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Stores
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="dataframe.html">
       DataFrame
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="reactive.html">
       Reactivity in Meerkat
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="component.html">
       Components
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../environments/running-interfaces.html">
     Running Meerkat Interfaces
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../components/component.html">
     Component
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../components/display.html">
       Displaying dataframes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../components/match.html">
       <code class="xref py py-class docutils literal notranslate">
        <span class="pre">
         mk.gui.Match
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../examples/examples.html">
     Interactive Examples
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../examples/image_search.html">
       Building image search
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../formatters/getting-started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../cheat-sheet.html">
   Cheat Sheet
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Advanced
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../magic/getting-started.html">
   Magic
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../magic/limitations.html">
     Limitations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../start/configure.html">
   Configuration
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  API Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../apidocs/index.html">
   API Reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../apidocs/dataframe.html">
     DataFrame
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../apidocs/interactive.html">
     Interactive
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/hazyresearch/meerkat/"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/hazyresearch/meerkat//issues/new?title=Issue%20on%20page%20%2Fguide/interactive/concepts/store.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/hazyresearch/meerkat/edit/master/doc/source/guide/interactive/concepts/store.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/guide/interactive/concepts/store.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-a-store">
   What is a
   <code class="docutils literal notranslate">
    <span class="pre">
     Store
    </span>
   </code>
   ?
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#when-do-store-objects-behave-differently-from-the-object-they-wrap">
     When do
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     objects behave differently from the object they wrap?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#common-gotchas-with-store-objects">
   Common Gotchas with
   <code class="docutils literal notranslate">
    <span class="pre">
     Store
    </span>
   </code>
   objects
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#faqs">
   FAQs
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-do-i-create-a-store">
     How do I create a
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-can-i-put-in-a-store">
     What can I put in a
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#will-this-statement-be-reactive-and-return-a-store">
     Will this
     <code class="docutils literal notranslate">
      <span class="pre">
       &lt;statement&gt;
      </span>
     </code>
     be reactive, and return a
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-do-i-update-a-store">
     How do I update a
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-does-store-none-is-none-return-false">
     Why does
     <code class="docutils literal notranslate">
      <span class="pre">
       Store(None)
      </span>
      <span class="pre">
       is
      </span>
      <span class="pre">
       None
      </span>
     </code>
     return
     <code class="docutils literal notranslate">
      <span class="pre">
       False
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#do-i-need-to-do-anything-special-inside-reactive-functions">
     Do I need to do anything special inside reactive functions?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#should-i-use-the-magic-context">
     Should I use the
     <code class="docutils literal notranslate">
      <span class="pre">
       magic
      </span>
     </code>
     context?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#are-there-any-caveats-to-using-the-magic-context">
     Are there any caveats to using the
     <code class="docutils literal notranslate">
      <span class="pre">
       magic
      </span>
     </code>
     context?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-s-a-quick-way-to-debug-the-value-of-store-objects">
     What’s a quick way to debug the value of
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     objects?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-do-i-get-different-store-objects-when-i-index-into-a-store-repeatedly">
     Why do I get different
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     objects when I index into a
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     repeatedly?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#faux-pas">
   Faux Pas
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Stores</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-a-store">
   What is a
   <code class="docutils literal notranslate">
    <span class="pre">
     Store
    </span>
   </code>
   ?
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#when-do-store-objects-behave-differently-from-the-object-they-wrap">
     When do
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     objects behave differently from the object they wrap?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#common-gotchas-with-store-objects">
   Common Gotchas with
   <code class="docutils literal notranslate">
    <span class="pre">
     Store
    </span>
   </code>
   objects
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#faqs">
   FAQs
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-do-i-create-a-store">
     How do I create a
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-can-i-put-in-a-store">
     What can I put in a
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#will-this-statement-be-reactive-and-return-a-store">
     Will this
     <code class="docutils literal notranslate">
      <span class="pre">
       &lt;statement&gt;
      </span>
     </code>
     be reactive, and return a
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-do-i-update-a-store">
     How do I update a
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-does-store-none-is-none-return-false">
     Why does
     <code class="docutils literal notranslate">
      <span class="pre">
       Store(None)
      </span>
      <span class="pre">
       is
      </span>
      <span class="pre">
       None
      </span>
     </code>
     return
     <code class="docutils literal notranslate">
      <span class="pre">
       False
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#do-i-need-to-do-anything-special-inside-reactive-functions">
     Do I need to do anything special inside reactive functions?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#should-i-use-the-magic-context">
     Should I use the
     <code class="docutils literal notranslate">
      <span class="pre">
       magic
      </span>
     </code>
     context?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#are-there-any-caveats-to-using-the-magic-context">
     Are there any caveats to using the
     <code class="docutils literal notranslate">
      <span class="pre">
       magic
      </span>
     </code>
     context?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-s-a-quick-way-to-debug-the-value-of-store-objects">
     What’s a quick way to debug the value of
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     objects?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-do-i-get-different-store-objects-when-i-index-into-a-store-repeatedly">
     Why do I get different
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     objects when I index into a
     <code class="docutils literal notranslate">
      <span class="pre">
       Store
      </span>
     </code>
     repeatedly?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#faux-pas">
   Faux Pas
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="stores">
<span id="guide-interactive-concepts-store"></span><h1>Stores<a class="headerlink" href="#stores" title="Permalink to this headline">¶</a></h1>
<p>An interactive application needs some way of creating variables that capture
the state of the application. This is important to</p>
<ul class="simple">
<li><p>keep track of application state that is going to change over time</p></li>
<li><p>keep this state in sync between the frontend and Python code</p></li>
<li><p>provide explicit ways to manipulate this state</p></li>
<li><p>implement and debug the application in terms of this state</p></li>
</ul>
<p>In Meerkat, wrapping a Python object in a <code class="docutils literal notranslate"><span class="pre">Store</span></code> object provides a way to do this. These pages will explain:</p>
<ul class="simple">
<li><p>what a <code class="docutils literal notranslate"><span class="pre">Store</span></code> is</p></li>
<li><p>how to work with <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects</p></li>
<li><p>how <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects are used in interactive applications</p></li>
<li><p>common pitfalls and how to avoid them</p></li>
</ul>
<section id="what-is-a-store">
<h2>What is a <code class="docutils literal notranslate"><span class="pre">Store</span></code>?<a class="headerlink" href="#what-is-a-store" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Store</span></code> is a wrapper that can be used to wrap an arbitrary Python object. For example, a <code class="docutils literal notranslate"><span class="pre">Store</span></code> can be used to wrap an <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">Store</span></code> is itself a Python object. For instance, calling <code class="docutils literal notranslate"><span class="pre">type(x)</span></code> will return <code class="docutils literal notranslate"><span class="pre">Store</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># Store</span>
</pre></div>
</div>
<p><strong><code class="docutils literal notranslate"><span class="pre">Store</span></code> objects are designed to be as transparent as possible, so that they behave like the object they wrap.</strong> For example, you can use <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects in the same way you would use the object they wrap.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># 2</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="c1"># this works!</span>
</pre></div>
</div>
<p><strong>However, while the way in which you use the <code class="docutils literal notranslate"><span class="pre">Store</span></code> is exactly the same, the consequences of using it are different.</strong> We’ve distilled it down to the following rules.</p>
<p><strong>When do <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave exactly like the object they wrap?</strong>
<code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave exactly like the object they wrap when you call their methods i.e. you use <code class="docutils literal notranslate"><span class="pre">.method()</span></code> syntax.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="s1">&#39;HELLO WORLD&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="c1"># &#39;hello world&#39;</span>
<span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c1"># str</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave exactly like the object they wrap when you access their attributes i.e. you use <code class="docutils literal notranslate"><span class="pre">.attribute</span></code> syntax.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="s1">&#39;HELLO WORLD&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">lower</span> <span class="c1"># &lt;built-in method lower of str object at ...&gt;</span>
<span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c1"># &lt;class &#39;builtin_function_or_method&#39;&gt;</span>
</pre></div>
</div>
<p>This is quite useful when wrapping complex objects.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">columns</span>
<span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c1"># &lt;class &#39;pandas.core.indexes.base.Index&#39;&gt;</span>
</pre></div>
</div>
<p><strong>When do <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave almost exactly like the object they wrap?</strong>
<code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave (almost) exactly like the object they wrap when you use them as inputs to functions. For instance, the following code works as expected.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="s1">&#39;HELLO WORLD&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># 11</span>
<span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c1"># int</span>
</pre></div>
</div>
<p>However, sometimes <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects may behave unexpectedly when used with arbitrary functions. This mostly happens when functions are not duck-typed, but instead have behavior that expects specific types. It can also happen when a function is actually implemented in C.</p>
<p>Here’s a simple example that fails from Python’s <code class="docutils literal notranslate"><span class="pre">os</span></code> module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="s1">&#39;./relative/path/to/file&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># TypeError: expected str, bytes or os.PathLike object, not Store</span>
</pre></div>
</div>
<p>The workaround is simple. If you encounter an error of this kind, use the <code class="docutils literal notranslate"><span class="pre">.value</span></code> attribute to get the underlying object and pass that in to the function instead.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="s1">&#39;./relative/path/to/file&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c1"># str</span>
</pre></div>
</div>
<section id="when-do-store-objects-behave-differently-from-the-object-they-wrap">
<h3>When do <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave differently from the object they wrap?<a class="headerlink" href="#when-do-store-objects-behave-differently-from-the-object-they-wrap" title="Permalink to this headline">¶</a></h3>
<p>By design, there are important situations in which <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave differently from the objects they wrap. Our goal is make these situations as salient as possible so that you can understand why they behave differently, and how to work with them correctly.</p>
<p><em>If you notice any situations in which <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave differently from the objects they wrap that we have not documented here, please let us know by filing an issue on <a class="reference external" href="https://github.com/hazyresearch/meerkat">GitHub</a>!</em></p>
<p><strong>1. When you use them as inputs to reactive functions.</strong></p>
<p>Let’s start with the most important difference between <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects and the objects they wrap. This is their behavior when you use them as inputs to reactive functions.</p>
<p>To recap, reactive functions are functions that are automatically re-executed when their inputs change. <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects are one of the object types that when passed as inputs to a reactive function, will trigger the function to re-execute when the value of the <code class="docutils literal notranslate"><span class="pre">Store</span></code> changes.</p>
<p>However, if the underlying object was used directly as an input without being wrapped in a <code class="docutils literal notranslate"><span class="pre">Store</span></code>, the function would not be re-executed when it changes. This is because the underlying object is not a <code class="docutils literal notranslate"><span class="pre">Store</span></code>, and Meerkat does not know that it should re-execute the function when it changes.</p>
<p><strong>2. With operators.</strong></p>
<p>There are some situations where it desirable that <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects actually behave differently from the objects they wrap.</p>
<p>For example, it is useful to be able to add two <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects together, and have the result be a <code class="docutils literal notranslate"><span class="pre">Store</span></code> object. In addition, it is particularly convenient if this calculation is reactive, so that the result is automatically updated when either of the inputs change.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="nb">type</span><span class="p">(</span><span class="n">z</span><span class="p">)</span> <span class="c1"># Store</span>
<span class="c1"># z is automatically updated when x or y changes</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">type</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="c1"># Store</span>
<span class="c1"># w is automatically updated when x changes</span>
</pre></div>
</div>
<p><strong>The rule we use to determine whether an operation on a <code class="docutils literal notranslate"><span class="pre">Store</span></code> should be reactive is simple: if the operation is written with only symbols and no letters, numbers or parentheses, it will be reactive.</strong></p>
<p>This means that <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>, <code class="docutils literal notranslate"><span class="pre">**</span></code>, <code class="docutils literal notranslate"><span class="pre">//</span></code>, <code class="docutils literal notranslate"><span class="pre">%</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">^</span></code>, <code class="docutils literal notranslate"><span class="pre">~</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code> will all be reactive when used with atleast one <code class="docutils literal notranslate"><span class="pre">Store</span></code> object.
Their shortcut counterparts, <code class="docutils literal notranslate"><span class="pre">+=</span></code>, <code class="docutils literal notranslate"><span class="pre">-=</span></code>, <code class="docutils literal notranslate"><span class="pre">*=</span></code>, <code class="docutils literal notranslate"><span class="pre">/=</span></code>, <code class="docutils literal notranslate"><span class="pre">**=</span></code>, <code class="docutils literal notranslate"><span class="pre">//=</span></code>, <code class="docutils literal notranslate"><span class="pre">%=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;=</span></code>, <code class="docutils literal notranslate"><span class="pre">|=</span></code>, <code class="docutils literal notranslate"><span class="pre">^=</span></code> will also be reactive.</p>
<p>However, all of the following ways of interacting with <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects will <strong>not</strong> behave reactively. These all contain letters, numbers or parentheses, and so will not be reactive.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is</span></code>, <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">not</span></code>, <code class="docutils literal notranslate"><span class="pre">in</span></code>, <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">in</span></code>, <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>, <code class="docutils literal notranslate"><span class="pre">not</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">y</span></code> will not be reactive, even if <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects. As alternatives to these, we provide the <code class="docutils literal notranslate"><span class="pre">mk.is</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.is_not</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.in</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.not_in</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.and</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.or</span></code>, and <code class="docutils literal notranslate"><span class="pre">mk.not</span></code> functions, which are reactive.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f-string</span></code> formatting, such as <code class="docutils literal notranslate"><span class="pre">f'{x}'</span></code>. For these, we recommend either using the <code class="docutils literal notranslate"><span class="pre">+</span></code> operator with <code class="docutils literal notranslate"><span class="pre">str</span></code> objects and <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects that wrap strings, or creating a reactive function that returns the formatted string. For example, <code class="docutils literal notranslate"><span class="pre">mk.reactive(lambda</span> <span class="pre">x:</span> <span class="pre">f'{x}')(x)</span></code> will be reactive.</p></li>
<li><p>No method calls, such as <code class="docutils literal notranslate"><span class="pre">x.lower()</span></code> will be reactive. The best way to call methods as reactive functions is to wrap them in with <code class="docutils literal notranslate"><span class="pre">mk.reactive</span></code> before calling them. For example, <code class="docutils literal notranslate"><span class="pre">mk.reactive(x.lower)()</span></code> will be reactive.</p></li>
<li><p>Attribute access, such as <code class="docutils literal notranslate"><span class="pre">df.columns</span></code> will not be reactive. The best way to access attributes as reactive functions is to create a <code class="docutils literal notranslate"><span class="pre">lambda</span></code> function wrapped in <code class="docutils literal notranslate"><span class="pre">mk.reactive</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">mk.reactive(lambda</span> <span class="pre">x:</span> <span class="pre">x.columns)(df)</span></code> will be reactive.</p></li>
<li><p>Function calls of the form <code class="docutils literal notranslate"><span class="pre">f(x)</span></code> will not be reactive, unless <code class="docutils literal notranslate"><span class="pre">f</span></code> is decorated with <code class="docutils literal notranslate"><span class="pre">&#64;mk.reactive</span></code>.</p></li>
<li><p>Calling <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects will not be reactive. For example, <code class="docutils literal notranslate"><span class="pre">x()</span></code> will not be reactive. The best way to call <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects as reactive functions is to just create a reactive function that calls them. For example, <code class="docutils literal notranslate"><span class="pre">mk.reactive(lambda</span> <span class="pre">x:</span> <span class="pre">x())(x)</span></code> will be reactive.</p></li>
<li><p>Indexing and slicing, such as <code class="docutils literal notranslate"><span class="pre">x[0]</span></code> or <code class="docutils literal notranslate"><span class="pre">x[0:5]</span></code> will not be reactive. The best way to index and slice <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects is to create a <code class="docutils literal notranslate"><span class="pre">lambda</span></code> function wrapped in <code class="docutils literal notranslate"><span class="pre">mk.reactive</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">mk.reactive(lambda</span> <span class="pre">x:</span> <span class="pre">x[0])(x)</span></code> will be reactive.</p></li>
</ul>
<p>While this rule might be silly, we designed it to be as simple as possible to remember, while making <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects convenient to use. If you can remember that <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave reactively when you use them with operators, you will be able to use them correctly in all situations.</p>
<p>One situation we want to call out in particular is the use of common Python built-in functions on <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects. For example, type casting like <code class="docutils literal notranslate"><span class="pre">int(...)</span></code> or <code class="docutils literal notranslate"><span class="pre">str(...)</span></code> will not only not be reactive, but will also return <code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">str</span></code> objects respectively, and not <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects. This can be surprising and lead to strange situations where the “chain of reactivity” is broken, but we believe this is the correct behavior to ensure that <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects behave as expected.</p>
<p>As a convenience, we provide the <code class="docutils literal notranslate"><span class="pre">mk.int</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.float</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.str</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.bool</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.list</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.dict</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.set</span></code> functions, which are all reactive functions that return <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects. A full list of reactive functions provided by Meerkat can be found <span class="xref myst">XXXXXXXXXXXXX</span>.</p>
</section>
</section>
<section id="common-gotchas-with-store-objects">
<h2>Common Gotchas with <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects<a class="headerlink" href="#common-gotchas-with-store-objects" title="Permalink to this headline">¶</a></h2>
<p><strong>When should I use <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects?</strong>
<code class="docutils literal notranslate"><span class="pre">Store</span></code> objects are central to Meerkat’s interactive functionality, and serve several important roles when building an application with Meerkat.</p>
<p>That said, when writing “normal” Python code in a Meerkat application, do not use <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects unless you need them.</p>
<p>There are several reasons to use <code class="docutils literal notranslate"><span class="pre">Store</span></code> in Meerkat.</p>
<p><strong>1. To create a variable that can be modified by the frontend or Python code.</strong></p>
<p>Normally, Python variables cannot be manipulated by the frontend directly. Wrapping a Python variable in a <code class="docutils literal notranslate"><span class="pre">Store</span></code> allows it to be synchronized with the frontend.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">number</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">slider</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">Slider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">number</span><span class="p">)</span>
</pre></div>
</div>
<p>In fact, all Meerkat components like <code class="docutils literal notranslate"><span class="pre">Slider</span></code> will automatically wrap their inputs in a <code class="docutils literal notranslate"><span class="pre">Store</span></code> (if required) when they are initialized. This ensures that their attributes are always synchronized with the frontend, and you can use them knowing that they will always be up-to-date.</p>
<p><strong>2. To create a variable that can trigger re-execution of a reactive function.</strong></p>
<p>Reactive functions are functions that are automatically re-executed when their inputs change. <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects are one of the object types that when passed as inputs to a reactive function, will trigger the function to re-execute when the value of the <code class="docutils literal notranslate"><span class="pre">Store</span></code> changes.</p>
<p>For example, the following code will print the updated value of <code class="docutils literal notranslate"><span class="pre">number</span></code> every time the slider is moved.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@mk</span><span class="o">.</span><span class="n">reactive</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">print_number</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>

<span class="n">number</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">slider</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">Slider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">number</span><span class="p">)</span>

<span class="n">print_number</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</pre></div>
</div>
<p>While this is an example where the fact that a <code class="docutils literal notranslate"><span class="pre">Store</span></code> is automatically synchronized with the frontend triggers re-execution of a reactive function, it is not the only way to trigger re-execution.</p>
<p>This can also be done by using the <code class="docutils literal notranslate"><span class="pre">.set</span></code> method on a <code class="docutils literal notranslate"><span class="pre">Store</span></code> inside an endpoint. In the example below, the <code class="docutils literal notranslate"><span class="pre">print_number</span></code> function will be re-executed every time the button is clicked, since the <code class="docutils literal notranslate"><span class="pre">set_number</span></code> endpoint will update the value of <code class="docutils literal notranslate"><span class="pre">number</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@mk</span><span class="o">.</span><span class="n">endpoint</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">set_number</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="n">Store</span><span class="p">):</span>
    <span class="n">number</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="nd">@mk</span><span class="o">.</span><span class="n">reactive</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">print_number</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>

<span class="n">number</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">button</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Click me!&quot;</span><span class="p">,</span> <span class="n">on_click</span><span class="o">=</span><span class="n">set_number</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">number</span><span class="p">))</span>

<span class="n">print_number</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="faqs">
<h2>FAQs<a class="headerlink" href="#faqs" title="Permalink to this headline">¶</a></h2>
<section id="how-do-i-create-a-store">
<h3>How do I create a <code class="docutils literal notranslate"><span class="pre">Store</span></code>?<a class="headerlink" href="#how-do-i-create-a-store" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># or mk.Store(&lt;any object&gt;)</span>
</pre></div>
</div>
</section>
<section id="what-can-i-put-in-a-store">
<h3>What can I put in a <code class="docutils literal notranslate"><span class="pre">Store</span></code>?<a class="headerlink" href="#what-can-i-put-in-a-store" title="Permalink to this headline">¶</a></h3>
<p><em>Anything.</em> All Python objects are valid inputs to <code class="docutils literal notranslate"><span class="pre">Store</span></code>. For example, primitive types (e.g. <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>, etc.), complex types (e.g. <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, etc.), arbitrary objects (e.g. <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, etc.), classes, functions and even other <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects (although we don’t recommend nesting <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects).</p>
</section>
<section id="will-this-statement-be-reactive-and-return-a-store">
<h3>Will this <code class="docutils literal notranslate"><span class="pre">&lt;statement&gt;</span></code> be reactive, and return a <code class="docutils literal notranslate"><span class="pre">Store</span></code>?<a class="headerlink" href="#will-this-statement-be-reactive-and-return-a-store" title="Permalink to this headline">¶</a></h3>
<p>Normally, statements with <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects are reactive <em>only</em> when they involve operators. For example, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">~x</span></code> will all behave as reactive statements that return another <code class="docutils literal notranslate"><span class="pre">Store</span></code> object.</p>
<p>The only other situation in which this occurs is when a reactive function is being called on a <code class="docutils literal notranslate"><span class="pre">Store</span></code> object. For example, <code class="docutils literal notranslate"><span class="pre">mk.reactive(lambda</span> <span class="pre">x:</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1)(x)</span></code> will be reactive, and return a <code class="docutils literal notranslate"><span class="pre">Store</span></code> object.</p>
<p>Finally, many other statements on <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects will become reactive in the <code class="docutils literal notranslate"><span class="pre">magic</span></code> context. Read more about the <code class="docutils literal notranslate"><span class="pre">magic</span></code> context <span class="xref myst">XXXXXXXXX</span>.</p>
</section>
<section id="how-do-i-update-a-store">
<h3>How do I update a <code class="docutils literal notranslate"><span class="pre">Store</span></code>?<a class="headerlink" href="#how-do-i-update-a-store" title="Permalink to this headline">¶</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">Store</span></code> can be updated by either the Python code and/or frontend.</p>
<ul class="simple">
<li><p><em>Frontend</em>: If the store is used by a component on the frontend, changes on the frontend will automatically be reflected in the <code class="docutils literal notranslate"><span class="pre">Store</span></code> on the Python side.</p></li>
<li><p><em>Python</em>: The <code class="docutils literal notranslate"><span class="pre">Store</span></code> has a <code class="docutils literal notranslate"><span class="pre">.set</span></code> method that can be used to update its value. This <code class="docutils literal notranslate"><span class="pre">.set</span></code> method should only be used in functions decorated with <code class="docutils literal notranslate"><span class="pre">&#64;mk.endpoint</span></code> if you want the updated <code class="docutils literal notranslate"><span class="pre">Store</span></code> to trigger re-execution of reactive functions.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">counter</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">counter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Remember, setting a store equal to a value (i.e. <code class="docutils literal notranslate"><span class="pre">store</span> <span class="pre">=</span> <span class="pre">1</span></code>) will not update the value of the store. Use <code class="docutils literal notranslate"><span class="pre">store.set()</span></code>!</p>
</section>
<section id="why-does-store-none-is-none-return-false">
<h3>Why does <code class="docutils literal notranslate"><span class="pre">Store(None)</span> <span class="pre">is</span> <span class="pre">None</span></code> return <code class="docutils literal notranslate"><span class="pre">False</span></code>?<a class="headerlink" href="#why-does-store-none-is-none-return-false" title="Permalink to this headline">¶</a></h3>
<p>Unfortunately, <code class="docutils literal notranslate"><span class="pre">is</span></code> is a special token in Python that cannot be intercepted by Meerkat, so this is an unavoidable limitation of the <code class="docutils literal notranslate"><span class="pre">Store</span></code> object. However, <code class="docutils literal notranslate"><span class="pre">Store(None)</span> <span class="pre">==</span> <span class="pre">None</span></code> will return <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Store</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>  <span class="c1"># False</span>
<span class="n">Store</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="kc">None</span>  <span class="c1"># True</span>
</pre></div>
</div>
</section>
<section id="do-i-need-to-do-anything-special-inside-reactive-functions">
<h3>Do I need to do anything special inside reactive functions?<a class="headerlink" href="#do-i-need-to-do-anything-special-inside-reactive-functions" title="Permalink to this headline">¶</a></h3>
<p>No. Write your reactive functions as you would any other Python function.</p>
<p>Reactive functions unwrap all <code class="docutils literal notranslate"><span class="pre">Store</span></code> arguments automatically, so treat those arguments as normal Python objects. They also automatically wrap the return value of the function in a <code class="docutils literal notranslate"><span class="pre">Store</span></code> object, so return any Python object you like.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@mk</span><span class="o">.</span><span class="n">reactive</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="c1"># Don&#39;t worry about `Store` objects here!</span>
    <span class="c1"># If x and y are passed in as Store objects, </span>
    <span class="c1"># they&#39;ve already been unwrapped to their </span>
    <span class="c1"># wrapped values automatically.</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="c1"># this is just adding two `int`s</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># returns a Store containing the value 3</span>
</pre></div>
</div>
<p>Of course, you can still create <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects manually inside reactive functions if you want to.</p>
</section>
<section id="should-i-use-the-magic-context">
<h3>Should I use the <code class="docutils literal notranslate"><span class="pre">magic</span></code> context?<a class="headerlink" href="#should-i-use-the-magic-context" title="Permalink to this headline">¶</a></h3>
<p>It depends.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">magic</span></code> context is a special context in which all methods and attribute access for <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects become reactive i.e. <code class="docutils literal notranslate"><span class="pre">store.&lt;blah&gt;</span></code>-like statements (remember that <code class="docutils literal notranslate"><span class="pre">fn(store)</span></code> calls will not be reactive unless <code class="docutils literal notranslate"><span class="pre">fn</span></code> is explicitly decorated with <code class="docutils literal notranslate"><span class="pre">mk.reactive()</span></code> though!).</p>
<p>This means that you can use <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects in a more natural way, without having to worry about whether or not the statement you’re writing is reactive.</p>
<p>For example, instead of writing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}))</span>
<span class="c1"># This doesn&#39;t work like a reactive statement</span>
<span class="n">cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span>
<span class="c1"># You must wrap `df.columns` in a reactive function</span>
<span class="c1"># if you want the `cols` variable to be updated when `df` changes.</span>
<span class="n">cols</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">reactive</span><span class="p">(</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<p>You can write:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}))</span>
<span class="c1"># No need to wrap `df.columns` in a reactive function</span>
<span class="c1"># if you&#39;re using the `magic` context.</span>
<span class="k">with</span> <span class="n">mk</span><span class="o">.</span><span class="n">magic</span><span class="p">():</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">magic</span></code> context is not required at all, but it can make your code more succinct and easier to write. In general, we recommend using the <code class="docutils literal notranslate"><span class="pre">magic</span></code> context as little as possible, since it will make it much less explicit to a reader of your code whether or not a statement is reactive. Anything you can do in the <code class="docutils literal notranslate"><span class="pre">magic</span></code> context, you can also do without it.</p>
</section>
<section id="are-there-any-caveats-to-using-the-magic-context">
<h3>Are there any caveats to using the <code class="docutils literal notranslate"><span class="pre">magic</span></code> context?<a class="headerlink" href="#are-there-any-caveats-to-using-the-magic-context" title="Permalink to this headline">¶</a></h3>
<p>There are some important edge cases when using the <code class="docutils literal notranslate"><span class="pre">magic</span></code> context that you should be aware of. You should see warnings when you encounter these edge cases, but it’s still good to be aware of them.</p>
<p>One major edge case is when using <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>, <code class="docutils literal notranslate"><span class="pre">not</span></code>, <code class="docutils literal notranslate"><span class="pre">is</span></code>, and <code class="docutils literal notranslate"><span class="pre">in</span></code> operators. These operators are special tokens in Python, and cannot be intercepted by Meerkat. This means that the following statements will not be reactive, and should not be relied on.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="k">with</span> <span class="n">mk</span><span class="o">.</span><span class="n">magic</span><span class="p">():</span>
    <span class="c1"># None of these will be reactive</span>
    <span class="c1"># and may return the wrong value!</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">y</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">y</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="ow">or</span> <span class="n">y</span>
    <span class="n">z</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">x</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">w</span>
    <span class="c1"># Use Meerkat&#39;s built-in overloads instead</span>
    <span class="n">mk</span><span class="o">.</span><span class="n">cand</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">mk</span><span class="o">.</span><span class="n">cor</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">mk</span><span class="o">.</span><span class="n">cnot</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="c1"># Or just wrap in a reactive lambda function!</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">reactive</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">y</span><span class="p">)(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="what-s-a-quick-way-to-debug-the-value-of-store-objects">
<h3>What’s a quick way to debug the value of <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects?<a class="headerlink" href="#what-s-a-quick-way-to-debug-the-value-of-store-objects" title="Permalink to this headline">¶</a></h3>
<p>The easiest way is to use the <code class="docutils literal notranslate"><span class="pre">mk.print</span></code> function. This is a reactive <code class="docutils literal notranslate"><span class="pre">print</span></code> function that will re-print the value of a <code class="docutils literal notranslate"><span class="pre">Store</span></code> object whenever it changes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mk</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># prints 1</span>
<span class="c1"># Will re-print the value of `x` whenever it changes</span>
</pre></div>
</div>
<p>Underneath the hood, <code class="docutils literal notranslate"><span class="pre">mk.print</span></code> is just <code class="docutils literal notranslate"><span class="pre">mk.reactive(print)</span></code>, so you can also use it to print the value of any Python object.</p>
<p>You can follow this pattern to create more advanced debugging tools.</p>
</section>
<section id="why-do-i-get-different-store-objects-when-i-index-into-a-store-repeatedly">
<h3>Why do I get different <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects when I index into a <code class="docutils literal notranslate"><span class="pre">Store</span></code> repeatedly?<a class="headerlink" href="#why-do-i-get-different-store-objects-when-i-index-into-a-store-repeatedly" title="Permalink to this headline">¶</a></h3>
<p>This is a limitation of the <code class="docutils literal notranslate"><span class="pre">Store</span></code> object. When you index into a <code class="docutils literal notranslate"><span class="pre">Store</span></code> object (e.g. <code class="docutils literal notranslate"><span class="pre">store[0]</span></code>), you get a new <code class="docutils literal notranslate"><span class="pre">Store</span></code> object that wraps the value at that index. This means that if you index into a <code class="docutils literal notranslate"><span class="pre">Store</span></code> object multiple times, you will get different <code class="docutils literal notranslate"><span class="pre">Store</span></code> objects each time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">s1</span> <span class="ow">is</span> <span class="n">s2</span>   <span class="c1"># This is False</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">Store</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="n">s1</span> <span class="ow">is</span> <span class="n">s2</span>   <span class="c1"># This is False</span>
</pre></div>
</div>
</section>
</section>
<section id="faux-pas">
<h2>Faux Pas<a class="headerlink" href="#faux-pas" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>A list of Stores is not reactive, a Store of list is reactive</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    
    <span class="c1"># my_list is a list of stores. It is not a Store.</span>
    <span class="c1"># Operations on my_list will not trigger reactions.</span>
    <span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">mk</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">mk</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span>
    <span class="n">my_list</span> <span class="o">+=</span> <span class="p">[</span><span class="n">mk</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">Store</span><span class="p">(</span><span class="mi">2</span><span class="p">))]</span>  <span class="c1"># this does nothing</span>

    <span class="c1"># my_stores is a store containing list of integers.</span>
    <span class="c1"># appending will change the value of my_stores.</span>
    <span class="c1"># This will trigger reactions.</span>
    <span class="n">my_stores</span> <span class="o">=</span> <span class="n">mk</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">Store</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">my_stores</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Using shortcut operators (<code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>, <code class="docutils literal notranslate"><span class="pre">not</span></code>) with Stores will not return Stores, but using Meerkat’s built-in overloads (<code class="docutils literal notranslate"><span class="pre">mk.cand</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.cor</span></code>, <code class="docutils literal notranslate"><span class="pre">mk.cnot</span></code>) will</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
    <span class="n">store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="c1"># These will not return Stores</span>
    <span class="nb">type</span><span class="p">(</span><span class="n">store</span> <span class="ow">or</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>  <span class="c1"># str</span>
    <span class="nb">type</span><span class="p">(</span><span class="n">store</span> <span class="ow">and</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>  <span class="c1"># str</span>
    <span class="nb">type</span><span class="p">(</span><span class="ow">not</span> <span class="n">store</span><span class="p">)</span>  <span class="c1"># bool</span>

    <span class="c1"># These will return Stores</span>
    <span class="nb">type</span><span class="p">(</span><span class="n">mk</span><span class="o">.</span><span class="n">cor</span><span class="p">(</span><span class="n">store</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">))</span>  <span class="c1"># Store</span>
    <span class="nb">type</span><span class="p">(</span><span class="n">mk</span><span class="o">.</span><span class="n">cand</span><span class="p">(</span><span class="n">store</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">))</span>  <span class="c1"># Store</span>
    <span class="nb">type</span><span class="p">(</span><span class="n">mk</span><span class="o">.</span><span class="n">cnot</span><span class="p">(</span><span class="n">store</span><span class="p">))</span>  <span class="c1"># Store</span>

</pre></div>
</div>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="core-concepts-nutshell.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Core Concepts in a Nutshell</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="dataframe.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">DataFrame</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Meerkat Team<br/>
  
      &copy; Copyright 2023 Meerkat.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>